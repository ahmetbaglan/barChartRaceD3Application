(this.webpackJsonpdeneme=this.webpackJsonpdeneme||[]).push([[0],{11:function(t,e,n){t.exports=n(20)},16:function(t,e,n){},17:function(t,e,n){t.exports=n.p+"static/media/logo.25bf045c.svg"},18:function(t,e,n){},20:function(t,e,n){"use strict";n.r(e);var a=n(2),r=n.n(a),i=n(5),o=n.n(i),u=(n(16),n(17),n(18),n(6)),s=n(7),c=n(9),l=n(8),f=n(10),d=n(1),h=n(0),v=(n(19),function(t){function e(){return Object(u.a)(this,e),Object(c.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(s.a)(e,[{key:"componentWillMount",value:function(){var t=this;d.queue().defer(d.csv,"https://gist.githubusercontent.com/johnburnmurdoch/2e5712cce1e2a9407bf081a952b85bac/raw/08cf82f5e03c619f7da2700d1777da0b5247df18/INTERBRAND_brand_values_2000_2018_decimalised.csv").await((function(e,n){t.setState({brandData:n})}))}},{key:"componentDidUpdate",value:function(){var t=Object(h.c)(this.refs.anchor),e=this.props,n=e.width,a=e.height;console.log(this);var r=this.state.brandData;console.log(r);var i=80,o=0,u=5,s=0,c=(a-(u+i))/50;t.append("text").attrs({class:"title",y:24}).html("18 years of Interbrand\u2019s Top Global Brands");t.append("text").attrs({class:"subTitle",y:55}).html("Brand value, $m"),t.append("text").attrs({class:"caption",x:n,y:a-5}).styles({"text-anchor":"end"}).html("Source: Interbrand");var l=2e3;r.forEach((function(t){t.value=+t.value,t.lastValue=+t.lastValue,t.value=isNaN(t.value)?0:t.value,t.year=+t.year,t.colour=d.hsl(360*Math.random(),.75,.75)}));var f=r.filter((function(t){return t.year==l&&!isNaN(t.value)})).sort((function(t,e){return e.value-t.value})).slice(0,10);f.forEach((function(t,e){return t.rank=e}));var v=d.scaleLinear().domain([0,d.max(f,(function(t){return t.value}))]).range([s,n-o-65]),m=d.scaleLinear().domain([10,0]).range([a-u,i]),p=d.axisTop().scale(v).ticks(n>500?5:2).tickSize(-(a-i-u)).tickFormat((function(t){return d.format(",")(t)}));t.append("g").attrs({class:"axis xAxis",transform:"translate(0, ".concat(i,")")}).call(p).selectAll(".tick line").classed("origin",(function(t){return 0==t})),t.selectAll("rect.bar").data(f,(function(t){return t.name})).enter().append("rect").attrs({class:"bar",x:v(0)+1,width:function(t){return v(t.value)-v(0)-1},y:function(t){return m(t.rank)+5},height:m(1)-m(0)-c}).styles({fill:function(t){return t.colour}}),t.selectAll("text.label").data(f,(function(t){return t.name})).enter().append("text").attrs({class:"label",x:function(t){return v(t.value)-8},y:function(t){return m(t.rank)+5+(m(1)-m(0))/2+1},"text-anchor":"end"}).html((function(t){return t.name})),t.selectAll("text.valueLabel").data(f,(function(t){return t.name})).enter().append("text").attrs({class:"valueLabel",x:function(t){return v(t.value)+5},y:function(t){return m(t.rank)+5+(m(1)-m(0))/2+1}}).text((function(t){return d.format(",.0f")(t.lastValue)}));var x=t.append("text").attrs({class:"yearText",x:n-o,y:a-25}).styles({"text-anchor":"end"}).html(~~l).call((function(t,e){t.select((function(){return this.parentNode.insertBefore(this.cloneNode(!0),this)})).styles({fill:"#ffffff",stroke:"#ffffff","stroke-width":e,"stroke-linejoin":"round",opacity:1})}),10),y=d.interval((function(e){(f=r.filter((function(t){return t.year==l&&!isNaN(t.value)})).sort((function(t,e){return e.value-t.value})).slice(0,10)).forEach((function(t,e){return t.rank=e})),v.domain([0,d.max(f,(function(t){return t.value}))]),t.select(".xAxis").transition().duration(250).ease(d.easeLinear).call(p);var n=t.selectAll(".bar").data(f,(function(t){return t.name}));n.enter().append("rect").attrs({class:function(t){return"bar ".concat(t.name.replace(/\s/g,"_"))},x:v(0)+1,width:function(t){return v(t.value)-v(0)-1},y:function(t){return m(11)+5},height:m(1)-m(0)-c}).styles({fill:function(t){return t.colour}}).transition().duration(250).ease(d.easeLinear).attrs({y:function(t){return m(t.rank)+5}}),n.transition().duration(250).ease(d.easeLinear).attrs({width:function(t){return v(t.value)-v(0)-1},y:function(t){return m(t.rank)+5}}),n.exit().transition().duration(250).ease(d.easeLinear).attrs({width:function(t){return v(t.value)-v(0)-1},y:function(t){return m(11)+5}}).remove();var a=t.selectAll(".label").data(f,(function(t){return t.name}));a.enter().append("text").attrs({class:"label",x:function(t){return v(t.value)-8},y:function(t){return m(11)+5+(m(1)-m(0))/2},"text-anchor":"end"}).html((function(t){return t.name})).transition().duration(250).ease(d.easeLinear).attrs({y:function(t){return m(t.rank)+5+(m(1)-m(0))/2+1}}),a.transition().duration(250).ease(d.easeLinear).attrs({x:function(t){return v(t.value)-8},y:function(t){return m(t.rank)+5+(m(1)-m(0))/2+1}}),a.exit().transition().duration(250).ease(d.easeLinear).attrs({x:function(t){return v(t.value)-8},y:function(t){return m(11)+5}}).remove();var i=t.selectAll(".valueLabel").data(f,(function(t){return t.name}));i.enter().append("text").attrs({class:"valueLabel",x:function(t){return v(t.value)+5},y:function(t){return m(11)+5}}).text((function(t){return d.format(",.0f")(t.lastValue)})).transition().duration(250).ease(d.easeLinear).attrs({y:function(t){return m(t.rank)+5+(m(1)-m(0))/2+1}}),i.transition().duration(250).ease(d.easeLinear).attrs({x:function(t){return v(t.value)+5},y:function(t){return m(t.rank)+5+(m(1)-m(0))/2+1}}).tween("text",(function(t){var e=d.interpolateRound(t.lastValue,t.value);return function(t){this.textContent=d.format(",")(e(t))}})),i.exit().transition().duration(250).ease(d.easeLinear).attrs({x:function(t){return v(t.value)+5},y:function(t){return m(11)+5}}).remove(),x.html(~~l),2018==l&&y.stop(),l=d.format(".1f")(+l+.1)}),250)}},{key:"render",value:function(){return console.log("lololo"),r.a.createElement("g",{ref:"anchor"})}}]),e}(a.Component));var m=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("svg",{width:"960",height:"600"},r.a.createElement(v,{width:960,height:600})),r.a.createElement("svg",{width:"480",height:"300"},r.a.createElement(v,{width:300,height:480})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[11,1,2]]]);
//# sourceMappingURL=main.c01e30b6.chunk.js.map